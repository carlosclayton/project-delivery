<ion-view>
    <ion-nav-title>Nossos produtos</ion-nav-title>
    <div class="bar bar-subheader">
        <button class="button button-icon  ion-plus" ng-click="openListProducts()"></button>
        <h2 class="title">Total: R$ {{total}}</h2>
        <button class="button button-ion button-icon ion-minus-circled" ng-click="showDelete =!showDelete" ng-class="{'button-clear button-assertive': showDelete, '': !showDelete }" ></button>
    </div>

    <ion-content class="padding has-subheader">
        <ion-list show-delete="showDelete">
        <ion-item class="item item-balanced item-icon-left" ng-show="cupom.value != null">
            <strong>Cupom</strong>
            <span class="icon ion-close" ng-click="removeCupom()"></span>
            <span class="badge badge-balanced"> - R$ {{ cupom.value }}</span>
        </ion-item>
                <ion-item ng-repeat="o in items" ng-click="openProductDetail($index)">
                    {{o.name}}
                    <div class="row">
                        <div class="col">
                            QTD: {{o.qtd}} <br>
                            <i class="ion ion-cash"> {{o.price}}</i>
                        </div>
                        <div class="col text-right">
                            <i class="ion ion-social-usd"> {{o.qtd * o.price}}</i>
                        </div>
                    </div>
                    <ion-delete-button class="ion ion-minus-circled" ng-click="removeItem($index)"></ion-delete-button>
                </ion-item>
            <button type="button" class="button button-balanced button-full" ng-click="readBarCode()" ng-disabled="cupom.value != null">Adicionar cupom</button>
            <button type="button" class="button button-assertive button-full" ng-click="save()">Salvar pedido</button>
        </ion-list>

    </ion-content>

</ion-view>
